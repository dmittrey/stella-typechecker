language core;
extend with #natural-literals,#type-ascriptions, #references,#unit-type,#arithmetic-operators,#let-bindings;

fn main(_ : Nat) -> Unit {
  // создаём ссылку на число 42
  return let r = new(42) in

  // имитируем "сырой" указатель: <0x0BEEF123>
  let rawAddr = <0x0BEEF123> as &Nat in

  //-- читаем значение по ссылке r
  let x = *r in

  // перезаписываем ссылку новым значением
  r := x + 1;
}

//SUCCESS
